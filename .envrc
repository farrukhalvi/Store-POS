#!/bin/bash

export PATH="$PWD/node_modules/.bin:$PATH"

# Set NODE_ENV first
export NODE_ENV=development

# Load environment variables from .env file
if [ -f .env ]; then
  echo "Loading .env file..."
  export $(cat .env | grep -v '^#' | grep -v '^$' | xargs)
  echo "Environment variables loaded from .env"
else
  echo "Warning: .env file not found"
fi

# Ensure NODE_ENV is set
export NODE_ENV=${NODE_ENV:-development}

echo "Current NODE_ENV: $NODE_ENV"
echo "Current DB_HOST: $DB_HOST"